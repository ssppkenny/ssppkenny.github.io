{"version":3,"sources":["pz15/views.cljs"],"mappings":"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","names":["pz15.views/dispatch-keypress-rules","re-frame.core/dispatch","pz15.views/dispatch-keydown-rules","pz15.views/main-panel","state","re_frame.core.subscribe","need-to-solve","solving","field","reagent.core.create_class","cljs.core/deref","show-progress","iter__5523__auto__","s__18659","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__18661","cljs.core/chunk-buffer","i__18660","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__18658","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","l","cljs.core/random-uuid","s__18663","b__18665","i__18664","vec__18666","cljs.core.nth","iter__18662","vec__18669","s__18673","b__18675","i__18674","vec__18676","iter__18672","vec__18679","n","i","cljs.core._EQ_","pz15.bfs/target-state","e","cljs.core/chunk-first"],"sourcesContent":["(ns pz15.views\n  (:require\n   [re-frame.core :as re-frame]\n   [re-pressed.core :as rp]\n   [reagent.core :as reagent]\n   [clojure.core.async :as ca]\n   [pz15.events :as events]\n   [pz15.subs :as subs]\n   [pz15.db :as db]\n   [pz15.bfs :as bfs]\n   ))\n\n(defn dispatch-keypress-rules []\n  (re-frame/dispatch\n   [::rp/set-keypress-rules\n    {:event-keys [\n                  [[::events/key-left 1]\n                   [{:keyCode 72} ;;\n                    ]]\n                  [[::events/key-right 1]\n                   [{:keyCode 76} ;; \n                    ]]\n                  [[::events/key-up 1]\n                   [{:keyCode 75} ;; \n                    ]]\n                  [[::events/key-down 1]\n                   [{:keyCode 74} ;; \n                    ]]\n                  ]\n\n     :clear-keys\n     [[{:keyCode 27} ;; escape\n       ]]}]))\n(defn dispatch-keydown-rules []\n  (re-frame/dispatch\n   [::rp/set-keydown-rules\n    {:event-keys [\n                  [[::events/shuffle 1]\n                   [{:keyCode 32} ;;\n                    ]\n                   ]\n                  [[::events/key-left 1]\n                   [{:keyCode 72} ;;\n                    ]\n                   [{:keyCode 37} ;;\n                    ]\n                   ]\n                  [[::events/key-right 1]\n                   [{:keyCode 76} ;; \n                    ]\n                   [{:keyCode 39} ;; \n                    ]\n                   ]\n                  [[::events/key-up 1]\n                   [{:keyCode 75} ;; \n                    ]\n                   [{:keyCode 38} ;; \n                    ]\n                   ]\n                  [[::events/new-solve 1]\n                   [{:keyCode 83} ;; \n                    ]\n                   ]\n                  [[::events/key-down 1]\n                   [{:keyCode 74} ;; \n                    ]\n                   [{:keyCode 40} ;; \n                    ]\n                   ]\n                  ]\n\n     :clear-keys\n     [[{:keyCode 27} ;; escape\n       ]]}]))\n\n\n\n(defn main-panel []\n  (let [state (re-frame/subscribe [::subs/state])\n         need-to-solve (re-frame/subscribe [::subs/need-to-solve])\n         solving (re-frame/subscribe [::subs/solving])\n        ]\n    (let [field state]\n      (reagent/create-class\n       {:component-did-mount\n         (fn [] (dispatch-keydown-rules)\n           )\n        :reagent-render\n         (fn []\n         (let [\n                  show-progress @solving  \n               ]\n        [:div  [:span {:style {:margin-left \"43%\" :font-size \"25px\"}} \"15 Puzzle\" ]  \n        [:div {:style {:margin-left \"40%\" :margin-top \"5%\" :border-style \"solid\" :width \"fit-content\" }} \n        (for [l (:board @field)]\n          ^{:key (random-uuid)} [:div {:style {:display \"flex\" :width \"100%\" :height \"50px\" :text-align \"center\"}} (for [[n i] l]\n            ^{:key (random-uuid)} [:div {:display \"inline-block\" :style {:width \"50px\" :border-style \"none\" :border-width \"1px\" :color \"black\" :margin \"0px\"} } \n(if (not (= n 0))\n    [:img {:src (str \"images/t\" n \".png\" ) :width \"50px\" :height \"50px\" }]\n    [:img {:src \"images/empty.png\" :width \"50px\" :height \"50px\" }]\n        )\n             ]\n            )]\n          )\n\n       ]\n         [:div  {:style {:margin-left \"45%\"}}\n             (if show-progress [:img {:src \"images/wait.gif\" :width \"30px\"}] [:div])\n          ]\n         [:div {:style {:margin-top \"1%\" :margin-left \"44%\" :color \"green\"}} (if (= @field bfs/target-state) \"Solved!!!\" \"\")] \n         [:div  {:style {:margin-left \"40%\"}}\n            [:img {:src \"images/up.jpg\" :width \"50px\" :on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/key-up 1] ) )}] \n            [:img {:src \"images/down.jpg\" :width \"50px\" :on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/key-down 1]) )}] \n            [:img {:src \"images/left.jpg\" :width \"50px\" :on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/key-left 1]) )}] \n            [:img {:src \"images/right.jpg\" :width \"50px\" :on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/key-right 1]) )}] \n          ]\n         [:div {:style {:margin-left \"42%\"}} \n            [:img {:src \"images/solve.jpg\" :width \"50px\" :on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/new-solve 1]) )}] \n          [:span \"Press s to solve\"]\n          [:p]\n            [:img {:src \"images/space.png\" :width \"150px\" :on-click (fn [e] (.preventDefault e) (re-frame/dispatch [::events/shuffle 1]) )}] \n          [:p]\n          [:span \"Press space to shuffle\"]\n          ]\n        ]\n  )\n  )\n         })\n      )\n    )\n  )\n"]}