{"version":3,"sources":["pz15/views.cljs"],"mappings":"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","names":["pz15.views/dispatch-keypress-rules","re-frame.core/dispatch","pz15.views/dispatch-keydown-rules","pz15.views/main-panel","state","re_frame.core.subscribe","need-to-solve","solving","field","reagent.core.create_class","cljs.core/deref","show-progress","js/console","iter__5523__auto__","s__14821","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__14823","cljs.core/chunk-buffer","i__14822","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__14820","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","l","cljs.core/random-uuid","s__14825","b__14827","i__14826","vec__14828","cljs.core.nth","iter__14824","vec__14831","s__14835","b__14837","i__14836","vec__14838","iter__14834","vec__14841","n","i","cljs.core._EQ_","pz15.bfs/target-state","cljs.core/chunk-first"],"sourcesContent":["(ns pz15.views\n  (:require\n   [re-frame.core :as re-frame]\n   [re-pressed.core :as rp]\n   [reagent.core :as reagent]\n   [clojure.core.async :as ca]\n   [pz15.events :as events]\n   [pz15.subs :as subs]\n   [pz15.db :as db]\n   [pz15.bfs :as bfs]\n   ))\n\n(defn dispatch-keypress-rules []\n  (re-frame/dispatch\n   [::rp/set-keypress-rules\n    {:event-keys [\n                  [[::events/key-left \"\"]\n                   [{:keyCode 72} ;;\n                    ]]\n                  [[::events/key-right \"\"]\n                   [{:keyCode 76} ;; \n                    ]]\n                  [[::events/key-up \"\"]\n                   [{:keyCode 75} ;; \n                    ]]\n                  [[::events/key-down \"\"]\n                   [{:keyCode 74} ;; \n                    ]]\n                  ]\n\n     :clear-keys\n     [[{:keyCode 27} ;; escape\n       ]]}]))\n(defn dispatch-keydown-rules []\n  (re-frame/dispatch\n   [::rp/set-keydown-rules\n    {:event-keys [\n                  [[::events/shuffle \"\"]\n                   [{:keyCode 32} ;;\n                    ]\n                   ]\n                  [[::events/key-left \"\"]\n                   [{:keyCode 72} ;;\n                    ]\n                   [{:keyCode 37} ;;\n                    ]\n                   ]\n                  [[::events/key-right \"\"]\n                   [{:keyCode 76} ;; \n                    ]\n                   [{:keyCode 39} ;; \n                    ]\n                   ]\n                  [[::events/key-up \"\"]\n                   [{:keyCode 75} ;; \n                    ]\n                   [{:keyCode 38} ;; \n                    ]\n                   ]\n                  [[::events/new-solve \"\"]\n                   [{:keyCode 83} ;; \n                    ]\n                   ]\n                  [[::events/key-down \"\"]\n                   [{:keyCode 74} ;; \n                    ]\n                   [{:keyCode 40} ;; \n                    ]\n                   ]\n                  ]\n\n     :clear-keys\n     [[{:keyCode 27} ;; escape\n       ]]}]))\n\n\n\n(defn main-panel []\n  (let [state (re-frame/subscribe [::subs/state])\n         need-to-solve (re-frame/subscribe [::subs/need-to-solve])\n         solving (re-frame/subscribe [::subs/solving])\n        ]\n    (let [field state]\n      (reagent/create-class\n       {:component-did-mount\n         (fn [] (dispatch-keydown-rules)\n           )\n        :reagent-render\n         (fn []\n         (let [\n                  show-progress @solving  \n               ]\n           (.log js/console @need-to-solve)\n           (.log js/console (str \"Show progress = \" show-progress))\n        [:div {:style {:margin-left \"35%\" :margin-top \"10%\"}} \n        (for [l (:board @field)]\n          ^{:key (random-uuid)} [:div {:style {:display \"flex\" :width \"100%\" :height \"55px\" :text-align \"center\"}} (for [[n i] l]\n            ^{:key (random-uuid)} [:div {:display \"inline-block\" :style {:width \"50px\" :border-style \"solid\" :border-width \"2px\" :color \"black\" :margin \"0px\"}} \n             (if (= n 0) \"\" (str n))\n             ]\n            )]\n          )\n         [:div {:style {:margin-top \"1%\" :margin-left \"6%\" :color \"green\"}} (if (= @field bfs/target-state) \"Solved!!!\" \"\")] \n         [:div \n             (if show-progress [:img {:src \"images/wait.gif\" :width \"30px\"}] [:div])\n          ]\n         ] \n        )\n        )\n         })\n      )\n    )\n  )\n"]}